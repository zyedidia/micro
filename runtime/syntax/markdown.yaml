filetype: markdown
detect:
  filename: \.(livemd|md|mkd|mkdn|markdown)$
rules:
# Tables (Github extension)
- type: ".*[ :]\\|[ :].*"

  # quotes
- statement: "^>.*"

  # Emphasis
- type: "(^|[[:space:]])(_[^ ][^_]*_|\\*[^ ][^*]*\\*)"

  # Strong emphasis
- type: "(^|[[:space:]])(__[^ ][^_]*__|\\*\\*[^ ][^*]*\\*\\*)"

  # strike-through
- type: "(^|[[:space:]])~~[^ ][^~]*~~"
                                
  # horizontal rules
- special: "^(---+|===+|___+|\\*\\*\\*+)\\s*$"

  # headlines
- special: "^#{1,6}.*"

  # lists
- identifier: "^[[:space:]]*[\\*+-] |^[[:space:]]*[0-9]+\\. "

  # misc
- preproc: "(\\(([CcRr]|[Tt][Mm])\\)|\\.{3}|(^|[[:space:]])\\-\\-($|[[:space:]]))"

  # links
- constant: "\\[[^]]+\\]"
- constant: "\\[([^][]|\\[[^]]*\\])*\\]\\([^)]+\\)"

  # images
- underlined: "!\\[[^][]*\\](\\([^)]+\\)|\\[[^]]+\\])"

  # urls
- underlined: "https?://[^ )>]+"

- special: "^```$"

  # Fenced code blocks for syntax highlighting
- default:
    start: "(?i)^```(c)$"
    end: "^```$"
    rules:
      - include: "c"
- default:
    start: "(?i)^```(c\\+\\+|cpp)$"
    end: "^```$"
    rules:
      - include: "c++"
- default:
    start: "(?i)^```(csharp|c\\#)$"
    end: "^```$"
    rules:
      - include: "csharp"
- default:
    start: "(?i)^```(golang|go)$"
    end: "^```$"
    rules:
      - include: "go"
- default:
    start: "(?i)^```(java)$"
    end: "^```$"
    rules:
      - include: "java"
- default:
    start: "(?i)^```(javascript|js)$"
    end: "^```$"
    rules:
      - include: "javascript"
- default:
    start: "(?i)^```(php)$"
    end: "^```$"
    rules:
      - include: "php"
- default:
    start: "(?i)^```(python3|python|py)$"
    end: "^```$"
    rules:
      - include: "python"
- default:
    start: "(?i)^```(rust|rs)$"
    end: "^```$"
    rules:
      - include: "rust"
- default:
    start: "(?i)^```(sh|powershell|shell|bash)$"
    end: "^```$"
    rules:
      - include: "shell"
- default:
    start: "(?i)^```(sql)$"
    end: "^```$"
    rules:
      - include: "sql"
- default:
    start: "(?i)^```(typescript|ts)$"
    end: "^```$"
    rules:
      - include: "typescript"

- special:
    start: "`"
    end: "`"
