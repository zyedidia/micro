filetype: haml

detect:
    filename: "\\.haml$"

rules:
    - symbol: "-|="
    - default: "->|=>"
    - constant: "([  ]|^)%\\w+>"
    - special: ":\\w+>"
    - type: "\\.[A-Za-z_]+>"
    - constant.string: "\"([^\"]|(\\\\\"))*\"|%[QW]?\\{[^}]*\\}|%[QW]?\\([^)]*\\)|%[QW]?<[^>]*>|%[QW]?\\$[^$]*\\$|%[QW]?\\^[^^]*\\^|%[QW]?![^!]*!"
    - constant.string: "'([^']|(\\\\'))*'|%[qw]\\{[^}]*\\}|%[qw]\\([^)]*\\)|%[qw]<[^>]*>|%[qw]\\[[^]]*\\]|%[qw]\\$[^$]*\\$|%[qw]\\^[^^]*\\^|%[qw]![^!]*!"
    - identifier: "#\\{[^}]*\\}"
    - identifier.var: "(@|@@)\\w+"
    - comment: "#[^{].*$|#$"
